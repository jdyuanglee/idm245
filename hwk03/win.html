<!doctype html>
<html>

<!--
  Ref: https://phaser.io/examples/v2/animation/animation-events
  Ref: https://phaser.io/examples/v2/text/google-webfonts
  --
  Ref: https://fonts.google.com/
  Ref: https://developers.google.com/speed/libraries/
-->

<head>
    <meta charset="UTF-8" />
    <title>Win Screen</title>
    <!--Add Phaser Framework library-->
    <script src="phaser.min.js"></script>
    <!--Add custom stylesheet-->
    <link rel="stylesheet" href="css/main.css">
</head>

<body>
    <div id="phaser-canvas"></div>
    <!--Custom Javascript-->
    <script type="text/javascript">
        window.onload = function() {
            var game = new Phaser.Game(920, 720, Phaser.AUTO, 'phaser-canvas', {
                preload: preload,
                create: create
            });


            // The Google WebFont loader will look for this var/obj
            WebFontConfig = {
                google: {
                    families: ['VT323', 'Orbitron']
                },
                //active means all requested fonts have finished loading
                active: function() {
                    game.time.events.add(Phaser.Timer.SECOND, createText, this);
                }
            }

            function preload() {
                // 37x45 is the size of each frame/cell
                // load just 18 frame that contain images
                // if number of frames is not listed ALL frames will load
                game.load.image('background', 'img/background.png');
                game.load.image('asteriod_b1', 'img/asteriod_b1.png');
                game.load.image('asteriod_b2', 'img/asteriod_b2.png');
                game.load.image('asteriod_b3', 'img/asteriod_b3.png');
                game.load.image('asteriod_m1', 'img/asteriod_m1.png');
                game.load.image('asteriod_m2', 'img/asteriod_m2.png');
                game.load.image('asteriod_s1', 'img/asteriod_s1.png');
                game.load.image('asteriod_s2', 'img/asteriod_s2.png');
                game.load.image('asteriod_s3', 'img/asteriod_s3.png');
                game.load.image('asteriod_s4', 'img/asteriod_s4.png');
                game.load.image('heart', 'img/heart.png');
                game.load.image('error', 'img/error.png');
                game.load.image('win', 'img/win.png');




                game.load.spritesheet('spritesheet', 'img/spritesheet.png', 120, 120, 12);
                game.load.spritesheet('winShipBoost', 'img/winShipBoost.png', 240, 240, 3);

                game.load.script('webfont', '//ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js');

            } // end preload 

            function create() {
                var spWin = game.add.sprite(0, 0, 'win');


                //          // Add Mummy to screen/state/canvas
                //          var spWinShipBoost = game.add.sprite(130,200,'winShipBoost');
                //
                //          
                //          // Add a walking animation var
                //          var boost = spWinshipBoost.animations.add('winShipBoost');
                //          
                //          
                //          // Start playing the animation
                //          spWinShipBoost.animations.play('winShipBoost', 12, true);


                // Add Mummy to screen/state/canvas
                var spWinShipBoost = game.add.sprite(130, 200, 'winShipBoost');

                // Add a walking animation var
                // var broken = spSpaceship.animations.add('broken');
                var boost = spWinShipBoost.animations.add('winShipBoost');


                // Start playing the animation
                // spSpaceship.animations.play('broken', 8, true);

                spWinShipBoost.animations.play('winShipBoost', 12, true);


            } // end create 

            function createText() {
                //Add text
                var timeStr = 'Final Time: 1:30';
                var txTimer = game.add.text(250, 550, timeStr);
                txTimer.anchor.setTo(.5, .5);
                txTimer.fill = 'white';
                txTimer.fontSize = 36;
                txTimer.font = 'VT323'; //space here is space

                var scoreStr = 'Final Score: 2800';
                var txScore = game.add.text(650, 550, scoreStr);
                txScore.anchor.setTo(.5, .5);
                txScore.fill = 'white';
                txScore.fontSize = 36;
                txScore.font = 'VT323'; //space here is space

                var winStr1 = 'CONGRATULATIONS!';
                var winStr2 = 'You were able to escape';
                var winStr3 = 'from gliched space!';
                var txWin1 = game.add.text(430, 230, winStr1);
                var txWin2 = game.add.text(430, 300, winStr2);
                var txWin3 = game.add.text(430, 350, winStr3);
                txWin1.fill = 'white';
                txWin2.fill = '#bbb';
                txWin3.fill = '#bbb';
                txWin1.fontSize = 45;
                txWin2.fontSize = 40;
                txWin3.fontSize = 40;
                txWin1.font = 'VT323'; 
                txWin2.font = 'VT323'; 
                txWin3.font = 'VT323'; 

                var replatStr = 'Press Space to Replay';
                var txReplay = game.add.text(game.world.centerX, 650, replatStr);
                txReplay.anchor.setTo(.5, .5);
                txReplay.fill = '#ccc';
                txReplay.fontSize = 30;
                txReplay.font = 'VT323'; //space here is space

            } //end createText

        }; // end window.onload

    </script>
</body>

</html>
